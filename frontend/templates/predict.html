<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Clinical Risk Assessment</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="navbar">
        <div class="brand">Clinical Risk Assessment</div>
        <div class="pill">Secure Intake</div>
    </div>

    <div class="container">
        <div class="form-card">
            <div class="section-title">Patient Clinical Data Entry</div>
            <div class="section-subtitle">Enter standardized medical parameters used in cardiovascular risk analysis.</div>

            <form id="risk-form" method="post" action="/ui/predict">
                {% if error %}
                <div class="meta" style="color: var(--danger); font-weight: 600; margin-bottom: 18px;">
                    {{ error }}
                </div>
                {% endif %}

                <div class="grid">
                    <div class="field">
                        <label for="age">Age</label>
                        <input id="age" name="age" type="number" min="1" max="120" required>
                    </div>
                    <div class="field">
                        <label for="sex">Sex (0 = Female, 1 = Male)</label>
                        <input id="sex" name="sex" type="number" min="0" max="1" required>
                    </div>
                    <div class="field">
                        <label for="cp">Chest Pain Type (0-3)</label>
                        <input id="cp" name="cp" type="number" min="0" max="3" required>
                    </div>
                    <div class="field">
                        <label for="trestbps">Resting Blood Pressure</label>
                        <input id="trestbps" name="trestbps" type="number" min="50" max="250" required>
                    </div>
                    <div class="field">
                        <label for="chol">Cholesterol (mg/dl)</label>
                        <input id="chol" name="chol" type="number" min="100" max="600" required>
                    </div>
                    <div class="field">
                        <label for="fbs">Fasting Blood Sugar (0 or 1)</label>
                        <input id="fbs" name="fbs" type="number" min="0" max="1" required>
                    </div>
                    <div class="field">
                        <label for="restecg">Rest ECG (0-2)</label>
                        <input id="restecg" name="restecg" type="number" min="0" max="2" required>
                    </div>
                    <div class="field">
                        <label for="thalach">Max Heart Rate</label>
                        <input id="thalach" name="thalach" type="number" min="60" max="230" required>
                    </div>
                    <div class="field">
                        <label for="exang">Exercise Angina (0 or 1)</label>
                        <input id="exang" name="exang" type="number" min="0" max="1" required>
                    </div>
                    <div class="field">
                        <label for="oldpeak">Oldpeak</label>
                        <input id="oldpeak" name="oldpeak" type="number" step="0.1" min="0" max="10" required>
                    </div>
                    <div class="field">
                        <label for="slope">Slope (0-2)</label>
                        <input id="slope" name="slope" type="number" min="0" max="2" required>
                    </div>
                    <div class="field">
                        <label for="ca">CA (0-3)</label>
                        <input id="ca" name="ca" type="number" min="0" max="3" required>
                    </div>
                    <div class="field">
                        <label for="thal">Thal (0-3)</label>
                        <input id="thal" name="thal" type="number" min="0" max="3" required>
                    </div>
                </div>

                <div class="form-actions">
                    <button class="primary-btn" type="submit">Run Risk Prediction</button>
                    <div class="spinner" id="spinner">Running prediction...</div>
                </div>
            </form>
        </div>
    </div>

    <footer class="footer">
        <a href="/">Back to Home</a>
    </footer>

    <script>
        const form = document.getElementById("risk-form");
        const spinner = document.getElementById("spinner");
        if (form && spinner) {
            form.addEventListener("submit", () => {
                spinner.style.display = "inline-flex";
            });
        }
    </script>
</body>
</html>
